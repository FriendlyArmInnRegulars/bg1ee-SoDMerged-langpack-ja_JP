# 貢献ガイド / Contributing Guide

BGEE & SoD 日本語化プロジェクトへの貢献に興味を持っていただき、ありがとうございます！

## 貢献方法

### 翻訳の改善

1. **誤訳や改善点を見つけた場合**
   - GitHubでIssueを作成してください
   - 該当する文字列番号（@番号）と現在の翻訳、提案する翻訳を記載してください

2. **直接翻訳を修正する場合**
   - このリポジトリをフォークする
   - `bg1ee_sod_jp/lang/ja_JP/dialog.tra` または `dialogf.tra` を編集
   - 変更をコミットしてプルリクエストを作成

### 翻訳ファイルの編集

#### 必要なツール

- UTF-8対応のテキストエディタ（VS Code, Sublime Text, Notepad++など）
- Git（バージョン管理用）

#### 編集手順

1. **文字列を見つける**
   ```bash
   # 特定のテキストを検索
   grep -n "探したいテキスト" bg1ee_sod_jp/lang/ja_JP/dialog.tra
   ```

2. **翻訳を編集**
   ```
   # 変更前
   @1234 = ~古い翻訳~

   # 変更後
   @1234 = ~新しい翻訳~
   ```

3. **UTF-8エンコーディングで保存**
   - ファイルは必ずUTF-8（BOMなし）で保存してください

4. **変更をテスト**
   - WeiDUを使ってModを再インストール
   - ゲーム内で該当箇所を確認

### コミットメッセージの書き方

日本語または英語でわかりやすく書いてください：

```
翻訳修正: スカールの台詞を自然な日本語に変更 (@16-@45)

- フォーマルな口調を維持
- 文脈に合わせた表現に修正
```

または

```
Fix translation: Improve Scar's dialogue naturalness (@16-@45)

- Maintain formal tone
- Adjust expressions to match context
```

## 翻訳スタイルガイド

### 基本方針

1. **口調の統一**
   - キャラクターの性格に合った口調を維持
   - フォーマル/カジュアルの使い分け

2. **用語の統一**
   - クラス名、種族名、呪文名などは統一された訳語を使用
   - 例: Fighter → ファイター（戦士ではない）

3. **読みやすさ**
   - 長すぎる文は分割
   - UIに収まる長さに調整

4. **ゲーム用語**
   - 固有名詞は原則としてカタカナ表記
   - ただし、公式日本語版がある場合はそれに準拠

### 性別による表現の違い

`dialog.tra`と`dialogf.tra`で異なる表現を使用する場合：

```
# dialog.tra (男性/中性)
@100 = ~彼は勇敢な戦士だ~

# dialogf.tra (女性)
@100 = ~彼女は勇敢な戦士だ~
```

## テスト手順

1. **ローカルでのテスト**
   ```bash
   # BGEEのインストールディレクトリにコピー
   cp -r bg1ee_sod_jp /path/to/BGEE/
   cp setup-bg1ee_sod_jp.tp2 /path/to/BGEE/

   # インストール
   cd /path/to/BGEE
   weidu setup-bg1ee_sod_jp.tp2 --log setup-bg1ee_sod_jp.debug
   ```

2. **ゲーム内確認**
   - ゲームを起動
   - 設定 → 言語 → Japanese (日本語) を選択
   - 該当箇所を確認

3. **デバッグログの確認**
   - `setup-bg1ee_sod_jp.debug` にエラーがないか確認

## よくある質問

### Q: どのファイルを編集すればいいですか？

A:
- ゲーム内テキスト: `dialog.tra` / `dialogf.tra`
- インストーラーUI: `setup.tra`
- 追加の文字列: `game.tra`

### Q: @番号はどうやって見つけますか？

A:
1. ゲーム内でテキストをコピー
2. `grep` コマンドで検索
3. または、WeiDUの `--traify` オプションを使用

### Q: 翻訳が長すぎてUIからはみ出します

A:
- 文を短く調整
- 改行を入れる（ただし、ゲームがサポートしている場合のみ）
- 言い換えを検討

## ライセンス

このプロジェクトへの貢献は、プロジェクトのライセンス（非商用利用）に従います。

## サポート

質問や問題がある場合：
- GitHub Issues: バグ報告、翻訳提案
- GitHub Discussions: 一般的な質問、議論

ご協力ありがとうございます！
